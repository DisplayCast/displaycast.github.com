<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <script type="text/javascript">
   <!--
     function GetBrowser()
	{
	   var agt=navigator.userAgent.toLowerCase();
	   if( ((agt.indexOf("msie") != -1) && (agt.indexOf("opera") == -1)) )
	       return "IE";
	   else if( ((agt.indexOf('mozilla')!=-1) && (agt.indexOf('spoofer')==-1)
	         && (agt.indexOf('compatible') == -1) && (agt.indexOf('opera')==-1)
	         && (agt.indexOf('webtv')==-1) && (agt.indexOf('hotjava')==-1)) )
	       return "Netscape";
	   else
	       return "unknown";
	}
	// -->
	</script>
        <script type='text/javascript' src='http://code.jquery.com/jquery-1.7.2.min.js'></script>
        <script type='text/javascript' src='http://www.fxpal.com/jquery.simplemodal.js'></script>        
        <script type="text/javascript" src="http://www.fxpal.com/jquery.lightbox-0.5.js"></script>
	<script language="JavaScript" src="http://www.fxpal.com/fxpal.js" type="text/javascript"></script>

        <script type="text/javascript">
            $(function () {
                $('#gallery a').lightBox();
            });
            $(function () {
                $('#gallery1 a').lightBox();
            });
         </script>

    <title>DisplayCast: a High Performance Screen Sharing System for Intranets</title>
    <!--meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" -->		
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" >				
    <meta name="description" content="High performance screen sharing system" />
    <meta name="keywords" content="DisplayCast, ScreenCast, IntraNet" />
    <meta name="author" content="surendar@acm.org" />
   <link rel="stylesheet" href="http://www.fxpal.com/styles.css" type="text/css" />
   <link rel="stylesheet" href="http://www.fxpal.com/menu.css" type="text/css" />
   <!--[if lte IE 6]><link rel="stylesheet" href="http://www.fxpal.com/menu_ie6.css" type="text/css" /><![endif]-->
   <link rel="stylesheet" type="text/css" href="http://www.fxpal.com/jquery.lightbox-0.5.css" media="screen" />
	</head>

<body>
<script type="text/javascript">
if(GetBrowser()== "IE")
document.write('<td colspan="2" align="left" valign="top" style="padding:1em 1em 0em 2em;">	<!--Note: Top, right, bottom, left -->');	                             
  else							
  document.write('<td colspan="2" align="left" valign="top" style="padding:0em 1em 0em 2em;">	<!--Note: Top, right, bottom, left -->');
    </script>	
    
    <table border=0 cellspacing=0 cellpadding=0 width="100%">
      <tr>
	<td width=10% valign=top bgcolor="#a7cafb">
	  <p><a href="#desc" class="hide">Description</a></p>
	  <p><a href="#usage">Usage</a></p>
	  <p><a href="#tech">Technical Info</a></p>
	  <p><a href="#faq">FAQ</a></p>

	  <p><a href="http://surendar.chandrabrown.org/">Technical Contact</a></p>
	</td>

	<td valign=top>
	<div id="gallery"><a href="images/Illustration.png""><img style="margin:0px 10px 10px 10px;" src="images/Illustration.png" width="480" align="right"></a></div>
	<A NAME="desc"></A>
	<p>Screen sharing is an important collaboration feature. As a screencast, it is used to capture and archive screen contents for educational and training purposes. Real time screen sharing is widely used for remote logging, debugging and screen sharing. Some of the popular screen sharing applications include VNC (and variants such as Apple Remote Desktop), Microsoft Remote Desktop, Google Chrome Desktop and Cisco WebEx.</p>

	<p>Historically, real time screen sharing systems were designed to operate over constrained networks. This design choice does not lend itself to scenarios in which such bottlenecks are irrelevant. DisplayCast targets intranet scenarios in which the wired/wireless networks and computation resources are abundant. We envision a collaboration scenario in which many users share their screens with many other users in an intranet setting.</p>

	<p>We describe two deployment scenarios to motivate the need for DisplayCast:
	<ul>
	  <li><b>Group collaboration in a corporate setting</b>
	  Meeting rooms are replete with projectors and large monitors. In FXPAL, we can project a 3840x1200 image using two projectors. Meetings frequently start with one presenter showing their ideas to the team. In the illustration,<i>Emily</i> presents her <i>spreadsheet</i>. Others respond by projecting contents from their own personal devices (e.g., <i>Sam</i> projects powerpoint slides from his laptop). Physical proximity is not always possible; some team members monitor the conversation from their own offices. For example, <i>Dan</i> watches some of these presentations while simultaneously performing other tasks. Others (such as <i>Olivia</i>) may briefly leave the meeting to take a phone call (with her bluetooth headset) while continuing to watch the presentations on her smart phone. Some presentations originate in the cloud; all these presentations may also be archived to the cloud. </i>
	  <li><b>Lecture capture in academia</b>
	  Powerpoint slides have become an integral component of lectures. In our vision, physical proximity is not mandatory; students join in remotely (say from the dormitory) to watch the lectures. Traditionally, students sought clarification using the in-class blackboards. In the future, they will illustrate and project them from their personal devices. Archiving all these interactions would also be invaluable for lecture review.
	  </li>
	</ul>

	<p>Our primary design goal is to faithfully reproduce the screen contents. 
	<ul>
	  <li>Users are not required to reconfigure their systems (e.g., lower screen resolution) in order to make them suitable for screen sharing.</li>
	  <li>Users can use any application and expect good performance.</li>
	</ul>
	We achieve many of these goals. Some remain unachievable because of processor limitations. For example, capturing, compressing and sharing full screen HD movies remain beyond reach even with the state of the art laptop processors.</p>
	
	<p>DisplayCast system currently includes three components: Streamer, Player and Archiver.</p>
	<ul>
	  <li><h3>Streamer</h3>
	  The streamer is the source component. It can either share the entire screen or a portion (using a configuration MASK region). It interacts with users using a task-bar interface (a windowed interface can be compiled using appropriate compile time flags).
	  </li>
	  <li><h3>Player</h3>
	  The player is the real time receiver. The created windows can be dragger around using the GUI. It can also be remotely controlled.
	  </li>
	  <li><h3>Archiver</h3>
	  This component captures a stream into a H.264 movie. 
	  </li>
	</ul>

	We also provide a HTTP/REST service that runs under Windows 7. This service listens to the various Zeroconf advertisements and provides a synchronous means of controlling DisplayCast.
	
	<h2><a name="usage">Usage</a></h2>
	<ul>
	  <li><h3>Mac OSX</h3>
	  <p>Both the Streamer and the Player use a task bar based interface (a window based interface is also available and requires a recompilation). Further information on getting a pre-build binary as well building from source are available <a href="https://github.com/DisplayCast/OSX-IOS/wiki/Building-and-Using-DisplayCast-in-Mac-OSX">here</a>.
	  </p>
	  </li>
	  <li><h3>Windows 7</h3>
	  <p>Both the Streamer and the Player use a task bar based interface (a window based interface is also available and requires a recompilation). More information is available <a href="https://github.com/DisplayCast/Win7/wiki/Building-and-Using-DisplayCast-in-Windows-7">here</a></p>
	  </li>
	</ul>
	
	<h2><a name="tech">Technical Info</a></h2>
	<ul>
	  <li><h3>Screen capture</h3><br>
	  <p>On Mac OSX, we used the <a href="https://developer.apple.com/library/mac/#documentation/graphicsimaging/reference/Quartz_Services_Ref/Reference/reference.html" border=0>CGRegisterScreenRefreshCallback()</A> call to receive asynchronous notifications regarding screen updates. On Windows 7, we used <a href="http://www.demoforge.com/dfmirage.htm">the DemoForge mirror driver</a> to collect pixmap updates. This driver implements the <a href="http://msdn.microsoft.com/library/ff568315.aspx" border=0>Windows mirroring</a> function. We poll the driver every 16 msec to collect stored updates. We then memory mapped the mirror driver's framebuffer copy to access the pixels that correspond to each pixmap update. </p>
	  </li>
	  
	  <li><h3>Bitmap transformation for better Zlib compression</h3>
	  <p>Zlib does not incorporate any inter-update redundancy. We incorporate them by first transforming each update pixmap. We separated pixmaps into a similarity byte-map and pixel data. We use 0x00 and 0xFF to represent similar and dissimilar pixels in the byte-map, respectively. The pixel data is a sparse array that stores the 24 bit RGB values of dissimilar pixels. </p>
	  </li>
	  
	  <li><h3>Naming</h3>
	  <p>We use <a href="https://developer.apple.com/opensource/" border=0>Apple Bonjour</a> for naming the various components. Each component chooses a 8 character GUID to identify itself. It also provides a user friendly (and configurable) name that is displayed to the user to identify each component. By default, we use Bonjour local name resolution (within the .local domain) using link-local multicast. DisplayCast can be recompiled to use <A HREF="https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/NetServices/Articles/faq.html" BORDER=0>wide-area DNS</A>.</P
	  </li>

	  <li><h3>Location management</h3>
	  <p>Like many intranet applications, DisplayCast could benefit from fine grain location information. For example, an user walking into a conference room might want to project their laptop to the projector (without explicitly choosing from the many Players available to her). Streamers currently use Bluetooth to locate nearby Players. All Players disclose their Bluetooth ID through Bonjour. The Streamers search for nearby Bluetooth devices. Once found, they match the observed Bluetooth ID with the Bonjour advertised Players to identify nearby Players. More accurate location management is an active area of research</p>
	  </li>
	</ul>

	<h2><a name="#faq">Frequently Asked Questions</a></h2>
	<ol>
	  <li><strong>Is DisplayCast secure?</strong> <br>Currently, DisplayCast does not provide any authorization mechanism; any Player/Archiver within the same intranet can watch any active Streamer. The streams are unencrypted over the wire. However, DisplayCast does not surreptitiously leak any information. We do not log or monitor any communication (nor provide means for doing do).
	  
	  <li><strong>Does DisplayCast support sharing keyboard/mouse clicks/interactions?</strong> <br>The released version does not support interactions.</li>

	  <li><strong>Should I use DisplayCast over cellular 3G networks?</strong><br> DisplayCast was designed for intranet networks (at least IEEE 802.11n). However, we suspect that its performance will be better than with VNC (especially because of the bitmap compression). On the other hand, DisplayCast aggressively sends updates. RFB (the VNC distribution protocol) requires that the server can only send updates on a prior request from a client. 
	  
	  <li><strong>How easy would it be to port DisplayCast Streamer to Linux?</strong> <br>Even though DisplayCast is available in Mac OSX and Windows 7, the capture mechanisms in each of these operatings systems is completely different. We suspect that porting to FreeBSD and Linux would require substantial effort on the capture side. X windows (used in Linux and FreeBSD) is network based. Unlike Max OSX and Windows, X applications are likely to be optimized; they will pre-render their screen on an internal pixmap and then send the final output to the screen. Thus, the screen dynamics could be completely different from OSX and Win7. On the other hand, our compression mechanism might be directly applicable in X.</li>
	  
	  <li><strong>How easy would it be to port DisplayCast Streamer to Android</strong><br>Should be relatively straightforward. Use one of the VNC implementations as a starting point. You'd have to root the device to access the display subsystem.</li>
	  
	  <li><strong>How easy would it be to port DisplayCast Streamer to iOS</strong><br>Unless Apple allows the Streamer to run in the background, while you perform other useful tasks, porting Streamer to iOS is meaningless.</li>
	  
	  <li><strong>How easy would it be to port DisplayCast Player to Linux/Android/HTML5/...?</strong> This should be straight forward. The player needs to run Zeroconf (both to advertise itself as well as locate Streamers), use TCP to receive bitmap compressed pixmaps, uncompress using Zlib and then display the bitmap. Most modern operating systems support all this functionality. Implementing DisplayCast Player as a HTML5 player should be straightforward as well (except for the Zeroconf advertisement component)</li>

	  <li><strong>How easy would it be to port DisplayCast Archiver to Windows 7</strong> Hardware assisted H.264 compression is required to achieve good performance. Intel Media SDK 2012 appears promising though you carefully choose your hardware to achieve good performance.
	</ol>
      </td>
    </tr>
  </table>

<hr>
<address><a href="mailto:displaycast@fxpal.com" >displaycast@fxpal.com</a></address>
<!-- hhmts start -->Last modified: Fri Jun  1 14:29:11 PDT 2012 <!-- hhmts end -->
</body> </html>
